<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Ifpa.Views.SettingsPage" 
             xmlns:controls="clr-namespace:Ifpa.Controls"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"             
             xmlns:fluent="clr-namespace:MauiIcons.Fluent;assembly=MauiIcons.Fluent"
             Title="Settings">
    <ContentPage.Content>
        <controls:InsetTableView Intent="Settings" HasUnevenRows="True">
            <TableRoot>
                <TableSection Title="Notifications" TextColor="{DynamicResource SecondaryTextColor}">
                    <ViewCell>
                        <StackLayout StyleClass="SettingsRow" >
                            <Label Text="IFPA Rank Change" HorizontalOptions="StartAndExpand" VerticalOptions="Center" />
                            <Switch IsToggled="{Binding NotifyOnRankChange, Mode=TwoWay}" HorizontalOptions="End" VerticalOptions="Center" />
                        </StackLayout>
                    </ViewCell>
                    <ViewCell>
                        <StackLayout StyleClass="SettingsRow">
                            <Label Text="Tournament Result Posted" HorizontalOptions="StartAndExpand" VerticalOptions="Center" />
                            <Switch IsToggled="{Binding NotifyOnTournamentResult, Mode=TwoWay}" HorizontalOptions="End" VerticalOptions="Center" />
                        </StackLayout>
                    </ViewCell>
                    <ViewCell>
                        <StackLayout StyleClass="SettingsRow">
                            <Label Text="News Item Posted" HorizontalOptions="StartAndExpand" VerticalOptions="Center" />
                            <Switch IsToggled="{Binding NotifyOnNewBlogPost, Mode=TwoWay}" HorizontalOptions="End" VerticalOptions="Center" />
                        </StackLayout>
                    </ViewCell>
                </TableSection>
                <TableSection Title="My Stats" TextColor="{DynamicResource SecondaryTextColor}">
                    <ViewCell>
                        <StackLayout Orientation="Horizontal">
                            <toolkit:AvatarView Grid.Column="1" ImageSource="{Binding PlayerAvatar, Mode=OneWay}" HorizontalOptions="Center" Margin="10" 
                                        Text="{Binding Initials, Mode=OneWay}" 
                                        BackgroundColor="{StaticResource ButtonBackgroundColor}"
                                        BorderWidth="0"
                                        CornerRadius="30"
                                        TextColor="{StaticResource ButtonTextColor}" />
                            <Label Text="{Binding Name}" HorizontalOptions="StartAndExpand" VerticalOptions="Center" />

                            <ImageButton Source="{fluent:Icon Icon=PersonDelete24, IconColor=Red}" Padding="10,0,10,0" Margin="0,10,0,10" HorizontalOptions="End" Clicked="Button_Clicked" />
                        </StackLayout>
                    </ViewCell>
                </TableSection>
            </TableRoot>
        </controls:InsetTableView>
    </ContentPage.Content>
</ContentPage>